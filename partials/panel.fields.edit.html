<div ng-controller='panelFieldsViewEditCtrl as ctrl'>
	<form id="{{panelInfo.name}}" name="form.fields" class="css-form" novalidate>
		<ng-form name="{{panelInfo.name}}">
	    <div ng-repeat="panelField in fields | orderBy:'displayOrder'" style="margin-bottom: 10px;">
				<div class="row" ng-if="(parentController!='panelListCtrl' || (parentController=='panelListCtrl' && panelField.showinList))">
					<div class="col-md-12">
						<!-- {{panelField.schemaName}} ~ {{schema[panelField.schemaName].type}} ~ {{panelField.controlType}} -->

				    	<div ng-if="schema[panelField.schemaName].type == 'date'" class="form-group">
				    		<span class="in-input">{{panelField.displayName}}</span>
							<div class="input-group">
					          <input type="text" class="form-control form-control-wide" uib-datepicker-popup="{{format}}" ng-model="paneRecord[panelField.schemaName]" is-open="panelField.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
					          <span class="input-group-btn">
					            <button type="button" class="btn btn-default form-control form-control-wide" ng-click="panelField.opened=true"><i class="glyphicon glyphicon-calendar"></i></button>
					          </span>
					        </div>
				    	</div>

    	        <div ng-if="panelField.controlType == 'image'">
    	        	<span>{{panelField.displayName}}</span>
			          <div ng-if="paneRecord[panelField.schemaName]"><img ng-src="/www/logos/{{paneRecord[panelField.schemaName]}}"></div>
			          <div ng-if="paneRecord[panelField.schemaName]" style="float:left;margin:10px;" ng-click="removeImage(paneRecord, panelField)" class="click-link"><i class="fa fa-times" aria-hidden="true"></i> Remove</div>
			          <div ng-if="paneRecord[panelField.schemaName]" style="float:left;margin:10px;" ng-click="replaceImage(paneRecord, panelField)" class="click-link"><i class="fa fa-exchange" aria-hidden="true"></i> Replace</div>
			          <div ng-if="!paneRecord[panelField.schemaName]" style="float:left;margin:10px;" ng-click="addImage(paneRecord, panelField)" class="click-link"><i class="fa fa-plus" aria-hidden="true"></i> Add</div>
			         </div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'string' && panelField.controlType == 'textarea')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}}</span>
				  			<textarea rows="4" cols="50" class="form-control  form-control-wide" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]" ng-maxLength="{{schema[panelField.schemaName].max}}">
				  			</textarea>
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'integer' && panelField.controlType == 'money')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}} in â‚¬</span>
				  			<input class="form-control  form-control-wide" type="text" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]" ng-maxLength="{{schema[panelField.schemaName].max}}">
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'string' && panelField.controlType == 'text')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}}</span>
				  			<input class="form-control  form-control-wide" type="text" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]" ng-maxLength="{{schema[panelField.schemaName].max}}">
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'string' && panelField.controlType == 'email')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}}</span>
				  			<input class="form-control  form-control-wide" type="text" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]" ng-maxLength="{{schema[panelField.schemaName].max}}">
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'string' && panelField.controlType == 'url')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}}</span>
				  			<input class="form-control  form-control-wide" type="text" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]" ng-maxLength="{{schema[panelField.schemaName].max}}">
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'integer' && panelField.controlType == 'text')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}}</span>
				  			<input class="form-control  form-control-wide" type="text" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]" ng-maxLength="{{schema[panelField.schemaName].max}}">
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'string' && panelField.controlType == 'picklist')" class="form-group">
				  			<span class="in-input">{{panelField.displayName}}</span>
				  			<select class="form-control  form-control-wide" ng-options="item.name as item.name for item in panelField.picklistOptions.options | orderBy:'name'" name="{{panelField.schemaName}}" id="{{panelField.schemaName}}" ng-model="paneRecord[panelField.schemaName]"></select>
				    	</div>

				    	<div ng-if="(schema[panelField.schemaName].type == 'string' && panelField.controlType == 'multiselect')" class="ng-cloak form-group">											  			
								<span class="in-input">{{panelField.displayName}}</span>
							  <ui-select multiple ng-model="paneRecord[panelField.schemaName]" theme="bootstrap" ng-disabled="" sortable="true" close-on-select="false" style="height: 50px;padding-top: 25px;" class="form-control-wide">
							    <ui-select-match placeholder="Select...">{{$item.name}}</ui-select-match>
							    <ui-select-choices repeat="person in panelField.picklistOptions.options | propsFilter: {name: $select.search} | orderBy: 'name'">
							      <div ng-bind-html="person.name | highlight: $select.search"></div>
							    </ui-select-choices>
							  </ui-select>
				    </div>
				</div>
	    </div>
	  </ng-form>
	</form>
</div>