<div class="row" ng-controller="userDetailsRelatedTableController">
  <div class="col-md-12">
    <div class="panel panel-primary">
      <div class="panel-body">
        <div class="row">
          <div class="col-md-6 section-header">
            {{recordInfo.name}} ({{records.length}})
          </div>
          <div class="col-md-6" style="text-align: right;">
            <a ng-click="update()" class="click-link">UPDATE</a>
          </div>
        </div>
        <div class="row"><div class="col-md-12">&nbsp;</div></div>
        <div class="row">
          <div class="col-md-12">
            <table class="table table-hover">
              <tr ng-repeat="rec in records">
                <td ng-repeat="item in fields">
                  <div ng-if="item.controlType == 'datepicker'" class="hover-link" ng-click="util.navigate(recordInfo.route,{id:rec[recordInfo.direction][idName]})">
                    {{util.formatDate(rec[recordInfo.direction][item.schemaName],"MMM, YYYY")}}
                  </div>
                  <div ng-if="item.controlType == 'money'" class="hover-link" ng-click="util.navigate(recordInfo.route,{id:rec[recordInfo.direction][idName]})">
                    â‚¬ {{util.formatMoney(rec[recordInfo.direction][item.schemaName])}}
                  </div>
                  <div ng-if="item.controlType != 'money' && item.controlType != 'datepicker'" class="hover-link" ng-click="util.navigate(recordInfo.route,{id:rec[recordInfo.direction][idName]})">
                    {{rec[recordInfo.direction][item.schemaName]}}
                  </div>                  
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="row"><div class="col-md-12">&nbsp;</div></div>
      </div>
    </div>
  </div>
</div>
<div class="row"><div class="col-md-12">&nbsp;</div></div>
